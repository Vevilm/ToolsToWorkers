@using ToolsToWorkers.Data.enums
@model ToolsToWorkers.Data.SearchData.ArticleSearchData
@{
}

<form method="post" asp-action="Index">
    <h1>Артикли</h1>
    <form>
        <input asp-for="Value" class="form-control" autocomplete="off" type="search" style="display: inline; width: 40%;">
        <select asp-for="Field" class="form-control" style="display: inline; width: 10%;">
        <option value="Название">Название</option>
        <option value="Артикул">Артикул</option>
    </select>
        <button type="submit" class="btn btn-primary" style="vertical-align: baseline;">Поиск</button>
    </form>
    <br>
    <h2>Каталог Артикулов</h2>
    <br>
    <div class="row">
        <div class="col-md-3"><b>Артикул</b></div>
        <div class="col-md-3"><b>Наименование</b></div>
    </div>
    <br>
    @foreach (var item in Model.Articles)
    {
        <div class="row" asp-controller="Articles" asp-action="Details" asp-route-id="@item.ID">
            <div class="col-md-3">@item.ID</div>
            <div class="col-md-3">@item.Name</div>
            <a typeof="btn btn-success" asp-controller="Articles" asp-action="Details" asp-route-id="@item.ID">Подробнее</a>
        </div>
        <br>
    }
    @if (Model.TotalPages > 1)
    {
        <ul class="pagination" style="margin:auto; align-content:center">
            @if (Model.HasPreviousPage)

            {
                <a asp-route-page="@(@Model.PageNumber-1)"
                   asp-route-searchDataStr="@Model.ToString(@Model.PageNumber-1)"
                   class="btn btn-outline-dark">
                    Назад
                    <i class="glyphicon glyphicon-chevron-right"></i>
                </a>
            }
            @for (int i = 1; i <= Model.TotalPages; i++)

            {
                <li class="page-item">

                    <a asp-route-page="@i"
                       asp-route-searchDataStr="@Model.ToString(i)"
                       class="btn btn-outline-dark">
                        @i
                        <i class="glyphicon glyphicon-chevron-right"></i>
                    </a>
                </li>
            }
            @if (Model.HasNextPage)

            {
                <a asp-route-page="@(@Model.PageNumber+1)"
                   asp-route-searchDataStr="@Model.ToString(@Model.PageNumber+1)"
                   class="btn btn-outline-dark">
                    Вперёд
                    <i class="glyphicon glyphicon-chevron-right"></i>
                </a>
            }
        </ul>
    }
    <a typeof="btn btn-success" class="btn btn-secondary my-2" asp-controller="Articles" asp-action="Create">Создать новый элемент</a>
</form>